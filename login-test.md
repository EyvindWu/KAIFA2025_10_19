# 登录测试指南

## 更新内容

### 1. 新增测试账户
- **System Administrator**: `admin@kaifa.com` / `admin123`
  - 角色：超级管理员
  - 权限：系统管理、用户管理、系统设置
  - 访问：系统管理面板 (`/system_admin/dashboard`)

- **Customer Service Manager**: `manager@kaifa.com` / `manager123`
  - 角色：客服管理员
  - 权限：订单管理、客户服务、业务运营
  - 访问：客服管理面板 (`/admin/dashboard`)

- **Andy Liu**: `andy.liu@example.com` / `andy123`
  - 角色：普通用户（月结申请中）
  - 权限：只能使用微信支付
  - 订单：10个个人订单
  - 地址簿：3个联系人

- **Tony Leung**: `tony.leung@example.com` / `tony123`
  - 角色：月结用户（已授权）
  - 权限：可使用月结支付
  - 订单：5个企业订单
  - 地址簿：4个联系人

### 2. 登录页面改进
- 添加了账户选择下拉菜单
- 显示用户角色和权限状态
- 添加了测试说明区域
- 优化了重定向逻辑

## 测试步骤

### 1. 访问登录页面
1. 打开浏览器访问 `/login`
2. 点击邮箱输入框，会显示账户选择下拉菜单

### 2. 测试系统管理员账户
1. 选择 "System Administrator" 账户（红色标签：Super Admin）
2. 点击登录按钮
3. 登录成功后跳转到系统管理面板 (`/system_admin/dashboard`)
4. 可以访问系统设置、用户管理等功能

### 3. 测试客服经理账户
1. 选择 "Customer Service Manager" 账户（蓝色标签：Admin）
2. 点击登录按钮
3. 登录成功后跳转到客服管理面板 (`/admin/dashboard`)
4. 可以访问订单管理、客户服务等功能

### 4. 测试Andy Liu账户
1. 选择 "Andy Liu" 账户（黄色标签：Customer (Pending)）
2. 点击登录按钮
3. 登录成功后跳转到主页
4. 访问 `/ship` 页面，确认：
   - 只能选择微信支付
   - 月结选项显示"申请中"
   - 地址簿有3个联系人

### 3. 测试Tony Leung账户
1. 选择 "Tony Leung" 账户（绿色标签：Customer (Approved)）
2. 点击登录按钮
3. 登录成功后跳转到主页
4. 访问 `/ship` 页面，确认：
   - 可以选择月结支付
   - 月结选项显示"已授权"
   - 地址簿有4个联系人

### 4. 查看订单历史
1. 登录后访问 `/track/history`
2. Andy Liu：查看10个个人订单
3. Tony Leung：查看5个企业订单

### 5. 查看月结申请状态
1. 登录后访问 `/monthly-billing-application`
2. Andy Liu：显示"审核中"状态
3. Tony Leung：显示"已通过"状态

## 功能验证清单

### 系统管理员 (Super Admin)
- [ ] 登录成功
- [ ] 跳转到系统管理面板
- [ ] 可访问系统设置
- [ ] 可访问用户管理
- [ ] 可访问系统日志

### 客服经理 (Admin)
- [ ] 登录成功
- [ ] 跳转到客服管理面板
- [ ] 可访问订单管理
- [ ] 可访问客户服务
- [ ] 可访问业务运营

### Andy Liu (普通用户)
- [ ] 登录成功
- [ ] 只能选择微信支付
- [ ] 月结申请显示"审核中"
- [ ] 查看10个订单
- [ ] 地址簿有3个联系人

### Tony Leung (月结用户)
- [ ] 登录成功
- [ ] 可以选择月结支付
- [ ] 月结申请显示"已通过"
- [ ] 查看5个订单
- [ ] 地址簿有4个联系人

## 注意事项

1. **账户选择**：点击邮箱输入框即可看到预设账户
2. **自动填充**：选择账户后会自动填充邮箱和密码
3. **权限控制**：不同用户看到不同的功能界面
4. **数据隔离**：每个用户只能看到自己的订单和地址簿

## 故障排除

如果登录失败：
1. 检查邮箱和密码是否正确
2. 确认浏览器支持localStorage
3. 清除浏览器缓存后重试
4. 检查控制台是否有错误信息 